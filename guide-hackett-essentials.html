<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>1.2&nbsp;Hackett Essentials</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">The Hackett Programming Language</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="guide.html" class="tocviewselflink" data-pltdoc="x">The Hackett Guide</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="reference.html" class="tocviewlink" data-pltdoc="x">The Hackett Reference</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>1&nbsp;</td><td><a href="guide.html" class="tocviewlink" data-pltdoc="x">The Hackett Guide</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">1.1&nbsp;</td><td><a href="guide-quick-start.html" class="tocviewlink" data-pltdoc="x">Quick Start</a></td></tr><tr><td align="right">1.2&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Hackett Essentials</a></td></tr><tr><td align="right">1.3&nbsp;</td><td><a href="guide-working-with-data.html" class="tocviewlink" data-pltdoc="x">Working with data</a></td></tr><tr><td align="right">1.4&nbsp;</td><td><a href="guide-bottoms.html" class="tocviewlink" data-pltdoc="x">Partial Functions and Nontermination</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td>1.2&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Hackett Essentials</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">1.2.1&nbsp;</td><td><a href="#%28part._guide-infix-syntax%29" class="tocviewlink" data-pltdoc="x">Infix Syntax</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">1.2.1<tt>&nbsp;</tt></span><a href="#%28part._guide-infix-syntax%29" class="tocsubseclink" data-pltdoc="x">Infix Syntax</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="guide-quick-start.html" title="backward to &quot;1.1 Quick Start&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="guide.html" title="up to &quot;1 The Hackett Guide&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="guide-working-with-data.html" title="forward to &quot;1.3 Working with data&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>1.2<tt>&nbsp;</tt><a name="(part._guide-hackett-essentials)"></a>Hackett Essentials</h4><p>Before leaping into Hackett&#8217;s language features, this section will establish some essential concepts
and terminology. Readers already familiar with both Scheme and Haskell can safely skip this section,
but it can be a useful overview.</p><p>Hackett, like most programming languages, is a language for manipulation of <a name="(tech._value)"></a><span style="font-style: italic">values</span>. A value
is anything that exists at runtime, like a number, a string, a list, or a function. Every valid
Hackett value also has a <a name="(tech._type)"></a><span style="font-style: italic">type</span>, which can be thought of as a &#8220;description&#8221; of the value. When
an expression is evaluated in the Hackett REPL, the value&#8217;s type will be printed just before the value
itself:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktVal">42</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Integer</span></p></td></tr><tr><td><p><span class="RktRes">42</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktVal">"Hello, world!"</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: String</span></p></td></tr><tr><td><p><span class="RktRes">"Hello, world!"</span></p></td></tr></table></td></tr></table></blockquote><p>Generally, a single type describes many values, sometimes infinitely many! Hackett can represent any
integer that will fit in memory, and all of them have the <span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Integer%29%29" class="RktStxLink" data-pltdoc="x">Integer</a></span> type. Similarly, there
are infinitely many possible arrangements of characters, and all of them have the <span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span>
type.</p><p>In Hackett, types are <span style="font-style: italic">exclusively</span> a compile-time concept; they never persist at runtime. After
a program has passed the typechecker, type information is thrown away; this process is known as
<a name="(tech._type._erasure)"></a><span style="font-style: italic">type erasure</span>. It is not possible to dynamically query the type of a value at runtime, since
that information simply does not exist. Type erasure is possible because any program that would
incorrectly use a value as the wrong type will be detected and prevented by the typechecker; programs
that pass the typechecking process are considered <a name="(tech._well._typed)"></a><span style="font-style: italic">well-typed</span>.</p><p>Hackett programs are built out of series of nested <a name="(tech._function._application)"></a><span style="font-style: italic">function applications</span>, which have the
following syntax:</p><blockquote class="leftindent"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><span class="RktVar">function-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">arg-expr</span><span class="RktPn">)</span></td></tr></table></blockquote><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._not%29%29" class="RktValLink" data-pltdoc="x">not</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.True%29%29" class="RktValLink" data-pltdoc="x">True</a></span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Bool</span></p></td></tr><tr><td><p><span class="RktRes">False</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._not%29%29" class="RktValLink" data-pltdoc="x">not</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._not%29%29" class="RktValLink" data-pltdoc="x">not</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.True%29%29" class="RktValLink" data-pltdoc="x">True</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Bool</span></p></td></tr><tr><td><p><span class="RktRes">True</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Integer</span></p></td></tr><tr><td><p><span class="RktRes">3</span></p></td></tr></table></td></tr></table></blockquote></div></p></blockquote><p>The above syntax <span style="font-style: italic">applies</span> <span class="RktVar">function-expr</span> to <span class="RktVar">arg-expr</span>, evaluating to the
function&#8217;s body. As mentioned in <a href="guide-quick-start.html" data-pltdoc="x">Quick Start</a>, Hackett functions are <a href="guide-quick-start.html#%28tech._curried%29" class="techoutside" data-pltdoc="x"><span class="techinside">curried</span></a>,
which means they only ever take a single argument, but multi-argument functions are simulated by
functions that return other functions. To make curried functions more pleasant to work with, function
application syntax actually accepts more than one argument at a time:</p><blockquote class="leftindent"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><span class="RktVar">function-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">arg-expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></blockquote><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Integer</span></p></td></tr><tr><td><p><span class="RktRes">3</span></p></td></tr></table></td></tr></table></blockquote></div></p></blockquote><p>This syntax will be translated into a sequence of nested function applications, each of which only
involves application of a single <span class="RktVar">arg-expr</span> at a time.</p><p>In certain locations in Hackett programs, such as when providing a type annotation using <span class="RktSym"><a href="reference-syntactic-forms.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~3a%29%29" class="RktStxLink" data-pltdoc="x">:</a></span>,
the programmer is expected to specify a type rather than a value. The syntax of types is similar to
the syntax of values, but be careful to never confuse the two: remember that types are evaluated at
compile-time, and they will never mix with runtime values, they simply describe them.</p><p>The simplest types are just names. For example, <span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Integer%29%29" class="RktStxLink" data-pltdoc="x">Integer</a></span>, <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Bool%29%29" class="RktValLink" data-pltdoc="x">Bool</a></span>, and
<span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span> are all types. These can be successfully used anywhere a type is expected:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-syntactic-forms.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~3a%29%29" class="RktStxLink" data-pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktVal">42</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Integer%29%29" class="RktStxLink" data-pltdoc="x">Integer</a></span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Integer</span></p></td></tr><tr><td><p><span class="RktRes">42</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-syntactic-forms.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~3a%29%29" class="RktStxLink" data-pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.False%29%29" class="RktValLink" data-pltdoc="x">False</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Bool%29%29" class="RktValLink" data-pltdoc="x">Bool</a></span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Bool</span></p></td></tr><tr><td><p><span class="RktRes">False</span></p></td></tr></table></td></tr></table></blockquote><p>Some types, however, are more complex. For example, consider the type of a <a href="reference-datatypes.html#%28tech._list%29" class="techoutside" data-pltdoc="x"><span class="techinside">list</span></a>. It would be
silly to have many different types for all the different sorts of list one might need&#8212;that would
require completely separate types for things like <span class="RktSym">Integer-List</span>, <span class="RktSym">Bool-List</span>, and
<span class="RktSym">String-List</span>. Instead, there is only a single <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.List%29%29" class="RktValLink" data-pltdoc="x">List</a></span> type, but <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.List%29%29" class="RktValLink" data-pltdoc="x">List</a></span> is not
actually a type on its own. Rather, <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.List%29%29" class="RktValLink" data-pltdoc="x">List</a></span> is combined with another type to produce a new
type, such as <span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.List%29%29" class="RktValLink" data-pltdoc="x">List</a></span><span class="stt"> </span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Integer%29%29" class="RktStxLink" data-pltdoc="x">Integer</a></span><span class="RktPn">)</span> or <span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.List%29%29" class="RktValLink" data-pltdoc="x">List</a></span><span class="stt"> </span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="RktPn">)</span>.</p><p>This means that <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.List%29%29" class="RktValLink" data-pltdoc="x">List</a></span> isn&#8217;t really a type, since types describe values, and <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.List%29%29" class="RktValLink" data-pltdoc="x">List</a></span>
is not a valid type on its own. Instead, <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.List%29%29" class="RktValLink" data-pltdoc="x">List</a></span> is known as a <a name="(tech._type._constructor)"></a><span style="font-style: italic">type constructor</span>,
which can be applied to other types to produce a type.</p><h5>1.2.1<tt>&nbsp;</tt><a name="(part._guide-infix-syntax)"></a>Infix Syntax</h5><p>Hackett supports a limited form of infix syntax, which allows binary functions (that is, functions
that accept two arguments) to be applied by placing the function between its two operands, rather than
before them as in the usual prefix notation generally used by Hackett. This means that a function
application of the following form:</p><blockquote class="SCodeFlow"><p><span class="RktInBG"><span class="hspace"></span><span class="RktIn">(</span><span class="hspace"></span></span><span class="hspace">&nbsp;</span><span class="sroman">&#8249;<span style="font-style: italic">function expr</span>&#8250;</span><span class="hspace">&nbsp;</span><span class="sroman">&#8249;<span style="font-style: italic">arg expr</span>&#8250;</span><span class="hspace">&nbsp;</span><span class="sroman">&#8249;<span style="font-style: italic">arg expr</span>&#8250;</span><span class="hspace">&nbsp;</span><span class="RktInBG"><span class="hspace"></span><span class="RktIn">)</span><span class="hspace"></span></span></p></blockquote><p>&#8230;can be equivalently written in an alternate form:</p><blockquote class="SCodeFlow"><p><span class="RktInBG"><span class="hspace"></span><span class="RktIn">{</span><span class="hspace"></span></span><span class="hspace">&nbsp;</span><span class="sroman">&#8249;<span style="font-style: italic">arg expr</span>&#8250;</span><span class="hspace">&nbsp;</span><span class="sroman">&#8249;<span style="font-style: italic">function expr</span>&#8250;</span><span class="hspace">&nbsp;</span><span class="sroman">&#8249;<span style="font-style: italic">arg expr</span>&#8250;</span><span class="hspace">&nbsp;</span><span class="RktInBG"><span class="hspace"></span><span class="RktIn">}</span><span class="hspace"></span></span></p></blockquote><p>Note the curly braces (<span class="RktInBG"><span class="hspace"></span><span class="RktIn">{}</span><span class="hspace"></span></span>), which are significant in Hackett. When used as expressions,
parentheses and curly braces are <span style="font-style: italic">not</span> interchangeable. Use of curly braces in an expression
enters <a name="(tech._infix._mode)"></a><span style="font-style: italic">infix mode</span>, which alters function application syntax to support infix syntax.</p><p>Infix syntax is most useful for presenting mathematical notation, which is traditionally written using
infix symbolic operators. Hackett&#8217;s infix syntax can emulate this:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">{</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">}</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Integer</span></p></td></tr><tr><td><p><span class="RktRes">3</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">{</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._%2A%29%29" class="RktValLink" data-pltdoc="x">*</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">}</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Integer</span></p></td></tr><tr><td><p><span class="RktRes">6</span></p></td></tr></table></td></tr></table></blockquote><p>Any function of arity two can be applied using infix syntax, even those defined as entirely normal
functions; there is no syntactic difference between an &#8220;operator&#8221; and any other function. For example,
it would be equally possible to use a function named <span class="RktSym">add</span> in an infix expression:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-syntactic-forms.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="hspace">&nbsp;</span><span class="RktSym">add</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">{</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktSym">add</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">}</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Integer</span></p></td></tr><tr><td><p><span class="RktRes">3</span></p></td></tr></table></td></tr></table></blockquote><p>In fact, there is not even any restriction that functions used in infix expressions must be
identifiers. Arbitrary expressions that produce functions may also be used infix:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">{</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-syntactic-forms.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~ce~bb%29%29" class="RktStxLink" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29.__%29%29" class="RktStxLink" data-pltdoc="x">_</a></span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">}</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Integer</span></p></td></tr><tr><td><p><span class="RktRes">1</span></p></td></tr></table></td></tr></table></blockquote><p>Infix syntax can also be used to chain multiple operators together in the same expression, so the
general syntax of infix mode can be described with the following grammar:</p><blockquote class="SCodeFlow"><p><span class="RktInBG"><span class="hspace"></span><span class="RktIn">{</span><span class="hspace"></span></span><span class="hspace">&nbsp;</span><span class="sroman">&#8249;<span style="font-style: italic">arg expr</span>&#8250;</span><span class="hspace">&nbsp;</span><span class="sroman">{</span><span class="sroman">&#8249;<span style="font-style: italic">function expr</span>&#8250;</span><span class="hspace">&nbsp;</span><span class="sroman">&#8249;<span style="font-style: italic">arg expr</span>&#8250;</span><span class="sroman">}</span><span style="vertical-align: super; font-size: 80%">+</span><span class="hspace">&nbsp;</span><span class="RktInBG"><span class="hspace"></span><span class="RktIn">}</span><span class="hspace"></span></span></p></blockquote><p>&#8230;where each <span class="sroman">&#8249;<span style="font-style: italic">function expr</span>&#8250;</span> is known as an <a name="(tech._infix._operator)"></a><span style="font-style: italic">infix operator</span>.</p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">{</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">}</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Integer</span></p></td></tr><tr><td><p><span class="RktRes">6</span></p></td></tr></table></td></tr></table></blockquote></div></p><p>Astute readers might notice that operators chained in this way create a minor ambiguity. Is
<span class="RktPn">{</span><span class="RktVar">x</span><span class="stt"> </span><span class="RktVar">f</span><span class="stt"> </span><span class="RktVar">y</span><span class="stt"> </span><span class="RktVar">g</span><span class="stt"> </span><span class="RktVar">z</span><span class="RktPn">}</span> grouped like this?</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktVar">g</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktVar">y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">z</span><span class="RktPn">)</span></p></blockquote><p>&#8230;or like this?</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">g</span><span class="hspace">&nbsp;</span><span class="RktVar">y</span><span class="hspace">&nbsp;</span><span class="RktVar">z</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p>Both interpretations are potentially reasonable. For operators like <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span>, the grouping does not
matter, because <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span> is associative, so the result will be the same whichever grouping is
picked. For other operators, however, the grouping is meaningful. For example, <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span> can produce
very different results depending on which grouping is picked:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">{</span><span class="RktPn">{</span><span class="RktVal">10</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="hspace">&nbsp;</span><span class="RktVal">15</span><span class="RktPn">}</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">}</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Integer</span></p></td></tr><tr><td><p><span class="RktRes">-11</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">{</span><span class="RktVal">10</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktVal">15</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">}</span><span class="RktPn">}</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Integer</span></p></td></tr><tr><td><p><span class="RktRes">1</span></p></td></tr></table></td></tr></table></blockquote><p>How does Hackett determine which grouping to use? Well, it uses a notion of <a name="(tech._operator._fixity)"></a><span style="font-style: italic">operator fixity</span>
to decide on a case-by-case basis. Some operators should be grouped the first way (they
&#8220;associate left&#8221;) while others should be grouped the second way (they &#8220;associate right&#8221;). The
<span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span> operator, for example, associates left, while the <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span> operator associates right:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">{</span><span class="RktVal">10</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="hspace">&nbsp;</span><span class="RktVal">15</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">}</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Integer</span></p></td></tr><tr><td><p><span class="RktRes">-11</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">{</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nil%29%29" class="RktValLink" data-pltdoc="x">Nil</a></span><span class="RktPn">}</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: (List Integer)</span></p></td></tr><tr><td><p><span class="RktRes">{1 :: 2 :: 3 :: Nil}</span></p></td></tr></table></td></tr></table></blockquote><p>Operator fixity can be specified when a binding is defined by providing a <a name="(tech._fixity._annotation)"></a><span style="font-style: italic">fixity annotation</span>,
which is either <span class="RktPn">#:fixity</span><span class="stt"> </span><span class="RktSym">left</span> or <span class="RktPn">#:fixity</span><span class="stt"> </span><span class="RktSym">right</span>. Using a fixity annotation, it is
possible to write a version of <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span> that associates right:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-syntactic-forms.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="nobreak">-/</span>r</span><span class="hspace">&nbsp;</span><span class="RktPn">#:fixity</span><span class="hspace">&nbsp;</span><span class="RktSym">right</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">{</span><span class="RktVal">10</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="nobreak">-/</span>r</span><span class="hspace">&nbsp;</span><span class="RktVal">15</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="nobreak">-/</span>r</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">}</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Integer</span></p></td></tr><tr><td><p><span class="RktRes">1</span></p></td></tr></table></td></tr></table></blockquote><p>If no fixity annotation is specified, the default fixity is <span class="RktSym">left</span>.</p><p>Additionally, infix syntax can be used in types as well as expressions, and it works the same way.
Type constructors may also have <a href="#%28tech._operator._fixity%29" class="techoutside" data-pltdoc="x"><span class="techinside">operator fixity</span></a>, most notably <span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span>, which associates
right. This makes writing type signatures for curried functions much more palatable, since
<span class="RktPn">{</span><span class="RktVar">a</span><span class="stt"> </span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktVar">b</span><span class="stt"> </span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktVar">c</span><span class="RktPn">}</span> tends to be easier to visually scan than
<span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktVar">a</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktVar">b</span><span class="stt"> </span><span class="RktVar">c</span><span class="RktPn">)</span><span class="RktPn">)</span>, especially when the argument types are long or function types are
nested in argument positions.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="guide-quick-start.html" title="backward to &quot;1.1 Quick Start&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="guide.html" title="up to &quot;1 The Hackett Guide&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="guide-working-with-data.html" title="forward to &quot;1.3 Working with data&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>