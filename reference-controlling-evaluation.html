<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>2.6&nbsp;Controlling Evaluation</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="other-reference.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">The Hackett Programming Language</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="guide.html" class="tocviewlink" data-pltdoc="x">The Hackett Guide</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="reference.html" class="tocviewselflink" data-pltdoc="x">The Hackett Reference</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>2&nbsp;</td><td><a href="reference.html" class="tocviewlink" data-pltdoc="x">The Hackett Reference</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">2.1&nbsp;</td><td><a href="reference-syntactic-forms.html" class="tocviewlink" data-pltdoc="x">Core Syntactic Forms</a></td></tr><tr><td align="right">2.2&nbsp;</td><td><a href="reference-datatypes.html" class="tocviewlink" data-pltdoc="x">Datatypes</a></td></tr><tr><td align="right">2.3&nbsp;</td><td><a href="reference-typeclasses.html" class="tocviewlink" data-pltdoc="x">Typeclasses</a></td></tr><tr><td align="right">2.4&nbsp;</td><td><a href="reference-io.html" class="tocviewlink" data-pltdoc="x">I/<span class="mywbr"> &nbsp;</span>O</a></td></tr><tr><td align="right">2.5&nbsp;</td><td><a href="reference-monad-transformers.html" class="tocviewlink" data-pltdoc="x">Monad Transformers</a></td></tr><tr><td align="right">2.6&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Controlling Evaluation</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td>2.6&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Controlling Evaluation</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">2.6.1&nbsp;</td><td><a href="#%28part._reference-incomplete-programs%29" class="tocviewlink" data-pltdoc="x">Incomplete Programs</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#%28def._%28%28lib._hackett%2Fmain..rkt%29._seq%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">seq</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._hackett%2Fmain..rkt%29._error%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">error!</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.6.1<tt>&nbsp;</tt></span><a href="#%28part._reference-incomplete-programs%29" class="tocsubseclink" data-pltdoc="x">Incomplete Programs</a></td></tr><tr><td><a href="#%28def._%28%28lib._hackett%2Fmain..rkt%29._undefined%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">undefined!</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._hackett%2Fmain..rkt%29._todo%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">todo!</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="reference-monad-transformers.html" title="backward to &quot;2.5 Monad Transformers&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="reference.html" title="up to &quot;2 The Hackett Reference&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="doc-index.html" title="forward to &quot;Index&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>2.6<tt>&nbsp;</tt><a name="(part._reference-controlling-evaluation)"></a>Controlling Evaluation</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._hackett/main..rkt)._seq))"></a><span title="Provided from: hackett | Package: hackett-lib"><span class="RktSym"><a href="#%28def._%28%28lib._hackett%2Fmain..rkt%29._seq%29%29" class="RktValDef RktValLink" data-pltdoc="x">seq</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3aforall%29%29" class="RktStxLink" data-pltdoc="x">forall</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">}</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Accepts two arguments and returns its second argument. When the result is forced, the first argument
will also be evaluated to weak head normal form. This can be used to reduce laziness.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._hackett/main..rkt)._error!))"></a><span title="Provided from: hackett | Package: hackett-lib"><span class="RktSym"><a href="#%28def._%28%28lib._hackett%2Fmain..rkt%29._error%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">error!</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3aforall%29%29" class="RktStxLink" data-pltdoc="x">forall</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">a</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.String%29%29" class="RktStxLink" data-pltdoc="x">String</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">}</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><div class="flexible-container"><span class="margin-note__image-left margin-note__image-left--finger"></span><div class="flexible-element"><a href="guide-bottoms.html" data-pltdoc="x">Partial Functions and Nontermination</a> in <a href="guide.html" data-pltdoc="x">The Hackett Guide</a> has additional examples of partial functions.</div></div></p></blockquote></blockquote></blockquote></div></p><p>A simple <a href="guide-bottoms.html#%28tech._partial._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">partial function</span></a> that crashes the program with a message when evaluated.</p><h5>2.6.1<tt>&nbsp;</tt><a name="(part._reference-incomplete-programs)"></a>Incomplete Programs</h5><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._((lib._hackett/main..rkt)._undefined!))"></a><span title="Provided from: hackett | Package: hackett-lib"><span class="RktSym"><a href="#%28def._%28%28lib._hackett%2Fmain..rkt%29._undefined%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">undefined!</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3aforall%29%29" class="RktStxLink" data-pltdoc="x">forall</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">a</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A <a href="guide-bottoms.html#%28tech._partial._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">partial</span></a> value that crashes the program when evaluated.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._hackett/main..rkt)._todo!))"></a><span title="Provided from: hackett | Package: hackett-lib"><span class="RktSym"><a href="#%28form._%28%28lib._hackett%2Fmain..rkt%29._todo%21%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">todo!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">form</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">A form that expands to a <a href="guide-bottoms.html#%28tech._partial._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">partial</span></a> value of type
<span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3aforall%29%29" class="RktStxLink" data-pltdoc="x">forall</a></span><span class="stt"> </span><span class="RktPn">[</span><span class="RktVar">a</span><span class="RktPn">]</span><span class="stt"> </span><span class="RktVar">a</span><span class="RktPn">)</span> that crashes the program with a message containing its expected type when
evaluated. Uses of this form serve as an indicator that a part of the program is not yet written. The
<span class="RktVar">form</span>s provided to <span class="RktSym"><a href="#%28form._%28%28lib._hackett%2Fmain..rkt%29._todo%21%29%29" class="RktStxLink" data-pltdoc="x">todo!</a></span> are ignored, allowing the contents to contain
not-yet-working sketches and notes.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._not%29%29" class="RktValLink" data-pltdoc="x">not</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._hackett%2Fmain..rkt%29._todo%21%29%29" class="RktStxLink" data-pltdoc="x">todo!</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">eval:2.0: todo! with type Bool</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVal">42</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._hackett%2Fmain..rkt%29._todo%21%29%29" class="RktStxLink" data-pltdoc="x">todo!</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">eval:3.0: todo! with type Integer</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVal">42</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._hackett%2Fmain..rkt%29._todo%21%29%29" class="RktStxLink" data-pltdoc="x">todo!</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"hello"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">eval:4.0: todo! with type (-&gt; String Integer)</span></p></td></tr></table></blockquote></div></p><p>Additionally, <span class="RktSym"><a href="#%28form._%28%28lib._hackett%2Fmain..rkt%29._todo%21%29%29" class="RktStxLink" data-pltdoc="x">todo!</a></span> attaches a syntax property containing its expected type to its expansion
to cooperate with editors that know how to display that information. See
<a href="https://plt.eecs.northwestern.edu/snapshots/20180126-a9b658bb4c/doc/local-redirect/index.html?tag=%28part._%28.%27%28lib._todo-list%2Fscribblings%2Ftodo-list..scrbl%29.%27._.%27top.%27%29%29" class="Sq" data-pltdoc="x">the Todo List for DrRacket documentation</a> for
more details.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="reference-monad-transformers.html" title="backward to &quot;2.5 Monad Transformers&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="reference.html" title="up to &quot;2 The Hackett Reference&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="doc-index.html" title="forward to &quot;Index&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>